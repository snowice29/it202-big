<!-- screen three for map -->
<!-- <div class="content" id="map">
    <div class="container">
        <div class="row">
            <div class="col">
                <button type="button" class="btn btn-primary" id="getLocation">Show Current Position</button>
            </div>
        </div>
    </div>
</div> -->
<div class="g-signin2" data-onsuccess="onSignIn"></div>
<div id="map"></map>

<!-- for map
Initialize and add the map -->


<script>
 // Initialize and add the map
    // function initMap() {
    //     var chicago = { lat: 41.8781, lng: -87.6298 };
    //     var map = new google.maps.Map(
    //         document.getElementById('map'), { zoom: 14, center: chicago });
    //     $.get("https://data.cityofchicago.org/resource/u9xt-hiju.json",
    //         function (response) {
    //             console.log("in data callback");
    //             var data = response;
    //             createMarkers(map, data);
    //         });
    // }
    // function createMarkers(map, data) {
    //     console.log(data);
    //     $.each(data, function (i, v) {
    //         var location = { lat: parseFloat(v.latitude), lng: parseFloat(v.longitude) }
    //         var marker = new google.maps.Marker({ position: location, map: map });
    //         var contentString = '<strong>Street Name:</strong> ' + v.street_name + ', <strong>Permit Status</strong>: ' + v.status + ', <strong>Zone: </strong>' + v.zone + ', <strong>Starting from address </strong>' + v.address_range_high + ', <strong>Zone ends at address: </strong>' + v.address_range_low +
    //             ', <strong>Street Direction: </strong>' + v.street_direction;
    //         var infowindow = new google.maps.InfoWindow({
    //             content: contentString
    //         });
            
    //         marker.infowindow = infowindow;
    //         marker.addListener('click', function () {
    //             infowindow.open(map, marker);
    //         });
    //     });
    // }

    var map, infoWindow;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: -34.397, lng: 150.644 },
            zoom: 14,
        });
        infoWindow = new google.maps.InfoWindow;
        // Try HTML5 geolocation.
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                infoWindow.setPosition(pos);
                infoWindow.setContent('You are currently here');
                infoWindow.open(map);
                map.setCenter(pos);
            }, function () {
                handleLocationError(true, infoWindow, map.getCenter());
            });
        } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
        }
    }
    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
            'Error: The Geolocation service failed.' :
            'Error: Your browser doesn\'t support geolocation.');
        infoWindow.open(map);
    }
   
</script>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDa4dMSOASs_iLQnhrPoQ8EZgj2Im_pZ7o&callback=initMap">
    </script>